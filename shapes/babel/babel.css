#hexagon { 
    width: 100px; height: 55px; 
    background: red; 
    position: relative; 
} 
#hexagon:before { 
    content: ""; 
    position: absolute; 
    top: -25px; 
    left: 0; 
    width: 0; height: 0; 
    border-left: 50px solid transparent; 
    border-right: 50px solid transparent; 
    border-bottom: 25px solid red; 
} 
#hexagon:after { 
    content: ""; 
    position: absolute; 
    bottom: -25px; 
    left: 0; 
    width: 0; height: 0; 
    border-left: 50px solid transparent; 
    border-right: 50px solid transparent; 
    border-top: 25px solid red; 
}
.stage {
    background:
radial-gradient(circle farthest-side at 0% 50%,#fb1 23.5%,rgba(240,166,17,0) 0)21px 30px,
radial-gradient(circle farthest-side at 0% 50%,#B71 24%,rgba(240,166,17,0) 0)19px 30px,
linear-gradient(#fb1 14%,rgba(240,166,17,0) 0, rgba(240,166,17,0) 85%,#fb1 0)0 0,
linear-gradient(150deg,#fb1 24%,#B71 0,#B71 26%,rgba(240,166,17,0) 0,rgba(240,166,17,0) 74%,#B71 0,#B71 76%,#fb1 0)0 0,
linear-gradient(30deg,#fb1 24%,#B71 0,#B71 26%,rgba(240,166,17,0) 0,rgba(240,166,17,0) 74%,#B71 0,#B71 76%,#fb1 0)0 0,
linear-gradient(90deg,#B71 2%,#fb1 0,#fb1 98%,#B71 0%)0 0 #fb1;
background-size:40px 60px;
}

$canvas-size: 500px;
$hole-size: 250px;
$dot-size: 80px;
$colors: aqua gold tomato;

body {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background-color: #171723;
}

.canvas {
    width: $canvas-size;
    height: $canvas-size;
    perspective: 600px;
}

@keyframes hole-top {
    0%, 15%, 100% {
        transform: rotateX(80deg);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }
    30%, 85% {
        transform: rotateX(90deg);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }
}

@keyframes circle {
    0%, 15%, 100% {
        transform: translate3d(-50%, -60%, 0);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }
    30%, 85% {
        transform: translate3d(-50%, 210%, 0) scale(0.75);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }
}

@keyframes hole-bottom {
    0%, 30%, 85%, 100% {
        transform: rotateX(-90deg);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }
    45%, 70% {
        transform: rotateX(-80deg);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }
}

@keyframes square {
    0%, 30%, 85%, 100% {
        border-radius: 50%;
        transform: translate3d(-50%, -310%, 0) rotate(0deg) scale(0.75);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }
    45% {
        border-radius: 0px;
        transform: translate3d(-50%, -40%, 0) rotate(360deg);
        animation-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1);
    }
    70% {
        border-radius: 35%;
        transform: translate3d(-50%, -40%, 0) rotate(0deg);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }
}

.half {
    position: relative;
    display: flex;
    justify-content: center;
    width: 100%;
    height: 50%;
    overflow: hidden;
    transform-style: preserve-3d;

    &::before,
    &::after {
        content: '';
        display: block;
    }

    &::before {
        width: $hole-size;
        height: $hole-size;
        border-radius: 50%;
    }

    &::after {
        position: absolute;
        top: 50%;
        left: 50%;
        width: $dot-size;
        height: $dot-size;
    }
}

.half:nth-child(1) {
    align-items: flex-end;;

    &::before {
        background-color: aqua;
        transform-origin: 50% 100%;
        animation: hole-top 3s infinite;
    }

    &::after {
        border-radius: 50%;
        background-color: gold;
        animation: circle 3s infinite;
    }
}

.half:nth-child(2) {

    &::before {
        background-color: gold;
        transform-origin: 50% 0;
        animation: hole-bottom 3s infinite;
    }

    &::after {
        background-color: tomato;
        animation: square 3s infinite;
    }
}
